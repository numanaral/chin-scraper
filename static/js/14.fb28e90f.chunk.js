(this["webpackJsonpchin-205"]=this["webpackJsonpchin-205"]||[]).push([[14],{214:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(0),c=n(60),i=n(5),o=n(38),s=n.n(o),_=n(52),u=n(29),l=n(17),d=n(274),b=n(99),p=n(287),j=n(353),h=n(348),O=n(283),f=n(22),v=n(95),x=n(12),m=n(10);function g(){var e=Object(x.a)(["\n\tmargin: auto;\n\twidth: 90%;\n\t","\n"]);return g=function(){return e},e}function w(){var e=Object(x.a)(["\n\twidth: 100%;\n"]);return w=function(){return e},e}var P=m.c.div(w()),y=m.c.div(g(),(function(e){var t=e.theme;return"\n\t\t".concat(t.breakpoints.up("sm")," {\n\t\t\twidth: 70%;\n\t\t}\n\t\t").concat(t.breakpoints.up("md")," {\n\t\t\twidth: 50%;\n\t\t}\n\t\t").concat(t.breakpoints.up("lg")," {\n\t\t\twidth: 50%;\n\t\t}\n\t")})),I=function(e){return Object(r.jsx)(P,{children:Object(r.jsx)(y,Object(i.a)({},e))})},k=n(267),E=n(2),T=(E.string,E.func.isRequired,E.func.isRequired,E.bool,n(66)),R=n(284),N=n(68),D=n(265),C=n(136),M=n(354);function A(){var e=Object(x.a)(["\n\twidth: 100%;\n\ttext-align: left;\n\t","\n"]);return A=function(){return e},e}var S=Object(m.c)(C.a)(A(),(function(e){var t=e.theme;return"\n\t\tmargin-bottom: ".concat(t.spacing(2),"px;\n\t\tbackground-color: ").concat(t.palette.background.level1,";\n\t")})),U=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1];return Object(r.jsx)(D.a,{children:Object(r.jsx)(S,{elevation:c?3:0,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:Object(r.jsx)(M.a,Object(i.a)({py:2,px:4,textAlign:"left"},e))})})};U.defaultProps={};var L=U;function W(){var e=Object(x.a)(["\n\t","\n"]);return W=function(){return e},e}var B=function(e){return Object(r.jsx)(T.a,Object(i.a)({variant:"caption"},e))},G=function(e){return Object(r.jsx)(B,Object(i.a)({color:"primary"},e))},$=function(e){return Object(r.jsx)(B,Object(i.a)({color:"secondary"},e))},q=Object(m.c)(B)(W(),(function(e){var t=e.theme;return"\n\t\tcolor: ".concat(t.palette.success.main,";\n\t")})),z=function(){var e=Object(N.a)("notesAreDismissed",!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return!n&&Object(r.jsx)(D.a,{horizontal:!0,children:Object(r.jsxs)(L,{width:"100%",children:[Object(r.jsx)(D.a,{horizontal:!0,children:Object(r.jsx)(G,{children:"Notes: "})}),Object(r.jsx)(R.a,{}),Object(r.jsxs)("ul",{children:[Object(r.jsxs)(B,{component:"li",children:["Recognized characters are"," ",Object(r.jsx)($,{children:"hanzi"})," ",", ",Object(r.jsx)($,{children:"comma"})," ",", ",Object(r.jsx)($,{children:"dot"})," ",", ",Object(r.jsx)($,{children:"exclamation mark"})," ",", and ",Object(r.jsx)($,{children:"question mark"}),"."]}),Object(r.jsxs)(B,{component:"li",children:[Object(r.jsx)(q,{children:"Green color"})," "," ","represents the"," "," ",Object(r.jsx)(q,{children:"radical"})," "," ","in the hanzi drawings."]}),Object(r.jsxs)(B,{component:"li",children:["The server is hosted on a free provider so"," ",Object(r.jsx)($,{children:"after inactivity, the server will start hibernating"}),". ",Object(r.jsx)("ul",{children:Object(r.jsxs)(B,{component:"li",children:["This means that if you happen to be the first person to wake it up,"," ",Object(r.jsx)($,{children:"your first request will take a little while to load"}),"."]})})]})]}),Object(r.jsx)(D.a,{children:Object(r.jsx)(v.a,{tooltip:"Dismiss Notes",text:"Dismiss Notes",onClick:function(){return a(!0)},icon:f.f})})]})})},K=function(e){var t=e.input,n=e.onSubmit,a=e.onChange,c=e.loading;return Object(r.jsx)(I,{children:Object(r.jsxs)("form",{onSubmit:n,children:[Object(r.jsx)(j.a,{fullWidth:!0,autoFocus:!0,label:"Search for Hanzi...",variant:"outlined",type:"search",placeholder:"\u4f60\u597d",value:t,name:"chinese-character",onChange:a,InputProps:{startAdornment:Object(r.jsx)(h.a,{position:"start",children:Object(r.jsx)(v.a,{tooltip:"Speak",onClick:function(){return Object(O.a)(t)},disabled:!t,icon:f.y})}),endAdornment:Object(r.jsx)(h.a,{position:"start",children:Object(r.jsx)(v.a,{tooltip:"Search",disabled:!t,loading:c,color:"primary",icon:f.w,type:"submit"})})}}),Object(r.jsx)(k.a,{direction:"bottom",spacing:"2"}),Object(r.jsx)(z,{})]})})};K.defaultProps={string:"",loading:!1};var F=K,J=(E.string,E.string,function(e){var t=e.original,n=e.translation,a=e.pinyin;return Object(r.jsx)(I,{children:Object(r.jsx)(D.a,{children:Object(r.jsxs)(L,{textAlign:"center",children:[Object(r.jsxs)(T.a,{children:[" ",t," "]}),Object(r.jsxs)(T.a,{children:[" ",a," "]}),Object(r.jsxs)(T.a,{children:[" ",n," "]})]})})})});J.defaultProps={translation:"",pinyin:""};var H=J,Y=n(30),X=n(87),Q=n(27),V=Object(Q.a)((function(){return Promise.all([n.e(7),n.e(33),n.e(18)]).then(n.bind(null,352))})),Z=n(256),ee=n(137);function te(){var e=Object(x.a)(["\n\t","\n\tposition: relative;\n\twidth: 100%;\n\toverflow: auto;\n"]);return te=function(){return e},e}var ne=Object(m.c)(Z.a)(te(),(function(e){var t=e.theme,n=Object(ee.a)((function(e){return e.breakpoints.down("sm")})),r=n?" + 56px":"",a=n?"":" + 30px";return"\n\t\t&.MuiGrid-root {\n\t\t\t// Navigation + Footer + BottomNavbar (if mobile)\n\t\t\theight: calc(100% - (".concat("64px").concat(r).concat(a,"));\n\t\t}\n\t\tpadding: ").concat(t.spacing(3,0,n?15:3),";\n\t")})),re=function(){var e=Object(l.g)().push,t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1],j=Object(a.useState)(""),h=Object(u.a)(j,2),O=h[0],f=h[1],v=Object(a.useState)({}),x=Object(u.a)(v,2),m=x[0],g=x[1],w=Object(a.useState)([]),P=Object(u.a)(w,2),y=P[0],I=P[1],E=Object(p.a)(O),T=Object(d.a)().add,R=function(){I([]),g({})},N=function(){var t=Object(_.a)(s.a.mark((function t(n){var r,a,c,i,_,u,l;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),"/dev-settings"===O&&e("".concat(Y.a,"/dev-settings")),r=Object(b.b)(E),a=Object(b.b)(O),r!==a){t.next=7;break}return O!==a&&f(a),t.abrupt("return");case 7:if(!(c=Object(b.c)(a))){t.next=30;break}return o(!0),t.prev=10,T(c),f(a),t.next=15,Object(X.b)(a);case 15:i=t.sent,_=i.translation,u=i.pinyin,l=i.cards,g({original:a,translation:_,pinyin:u}),I(l),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(10),console.error(t.t0.message);case 26:return t.prev=26,o(!1),t.finish(26);case 29:return t.abrupt("return");case 30:y.length&&R(),f("");case 32:case"end":return t.stop()}}),t,null,[[10,23,26,29]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){}),[O]),Object(r.jsx)(ne,{children:Object(r.jsxs)(D.a,{children:[Object(r.jsx)(F,{input:O,onChange:function(e){var t=e.target.value;f(t),!t&&y.length&&R()},onSubmit:N,loading:c}),m.translation&&Object(r.jsx)(H,Object(i.a)({},m)),Object(r.jsx)(k.a,{direction:"bottom",spacing:2.5}),Object(r.jsx)(V,{cards:y})]})})},ae=n(42);t.default=function(){return Object(r.jsx)(c.b,{fallback:Object(r.jsx)(ae.a,{}),traceId:"load-learn",children:Object(r.jsx)(re,{})})}},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(5),a=n(21),c=n(12),i=n(3),o=(n(0),n(10)),s=n(256),_=n(2);_.node.isRequired,_.bool,_.bool;function u(){var e=Object(c.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\t","\n"]);return u=function(){return e},e}var l=Object(o.c)(s.a)(u(),(function(e){var t=e.$horizontal,n=e.$vertical;return"\n\t\t".concat(t&&"justify-content: center;","\n\t\t").concat(n&&"height: 100%; align-items: center;","\n\t")})),d=function(e){var t=e.children,n=e.horizontal,c=e.vertical,o=Object(a.a)(e,["children","horizontal","vertical"]);return Object(i.jsx)(l,Object(r.a)(Object(r.a)({$horizontal:n,$vertical:c},o),{},{children:t}))};d.defaultProps={horizontal:!0,vertical:!1};var b=d},267:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(3),a=(n(0),n(12));function c(){var e=Object(a.a)(["\n\tdisplay: block;\n\twidth: 100%;\n\t","\n"]);return c=function(){return e},e}var i=n(10).c.span(c(),(function(e){var t=e.theme,n=e.$direction,r=e.$spacing;return"\n\t\tmargin-".concat(n,": ").concat(t.spacing(r),"px;\n\t")})),o=n(33),s=(o.c.isRequired,o.f,function(e){var t=e.direction,n=e.spacing;return Object(r.jsx)(i,{$direction:t,$spacing:"string"===typeof n&&parseInt(n,10)||n})});s.defaultProps={spacing:1};var _=s},274:function(e,t,n){"use strict";var r=n(29),a=n(60),c=n(98);t.a=function(){var e=Object(c.a)(),t=Object(r.a)(e,1)[0],n=Object(a.j)().collection("searchQueries");return{collection:Object(a.k)(n.orderBy("createdOn")),add:function(e){t&&n.add({query:e,createdOn:new Date})}}}},283:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return speak})),__webpack_require__.d(__webpack_exports__,"b",(function(){return trySpeakNative}));var C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38),C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(52),api_rest__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(85),TONE_MAP={"\u0101":"a1","\xe1":"a2","\u01ce":"a3","\xe0":"a4","\u014d":"o1","\xf3":"o2","\u01d2":"o3","\xf2":"o4","\u0113":"e1","\xe9":"e2","\u011b":"e3","\xe8":"e4","\u012b":"i1","\xed":"i2","\u01d0":"i3","\xec":"i4","\u016b":"u1","\xfa":"u2","\u01d4":"u3","\xf9":"u4","\xfc":"v0","\u01d6":"v1","\u01d8":"v2","\u01da":"v3","\u01dc":"v4","\u0144":"n2","\u0148":"n3","\ue7c7":"m2"},HAN_TRAINER_PRO_PREFIX="https://www.hantrainerpro.de/resources/pronunciations/",HAN_TRAINER_PRO_POSTFIX=".mp3",synth,utterance;(window.speechSynthesis||window.SpeechSynthesisUtterance)&&(synth=window.speechSynthesis,utterance=new SpeechSynthesisUtterance,utterance.pitch=1,utterance.rate=.8);var PINYIN_JS_URL="https://cdn.jsdelivr.net/gh/sxei/pinyinjs/pinyinUtil.js",PINYIN_JS_DICTIONARY_URL="https://cdn.jsdelivr.net/gh/sxei/pinyinjs/dict/pinyin_dict_withtone.js",markToNumberForHanTrainerPro=function(e){return e.replace(/[\u0101\xe1\u01ce\xe0\u014d\xf3\u01d2\xf2\u0113\xe9\u011b\xe8\u012b\xed\u01d0\xec\u016b\xfa\u01d4\xf9\xfc\u01d6\u01d8\u01da\u01dc\u0144\u0148\ue7c7]/g,(function(e){return TONE_MAP[e]}))},speak=function(e){e&&(synth&&utterance?(synth.speaking&&synth.cancel(),utterance.voice||(utterance.voice=synth.getVoices().find((function(e){return"zh-CN"===e.lang}))),utterance.text=e,synth.speak(utterance)):alert("You browser doesn't support native speec, please upgrade or try somewhere else for now."))},importPinyinJsIfNeeded=function(){var _ref=Object(C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(){var _yield$get,data,_yield$get2,_data;return C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(window.pinyin_dict_withtone){_context.next=6;break}return _context.next=3,Object(api_rest__WEBPACK_IMPORTED_MODULE_2__.a)(PINYIN_JS_DICTIONARY_URL,{headers:{accept:"text/js"}});case 3:_yield$get=_context.sent,data=_yield$get.data,window.pinyin_dict_withtone=data.replace(/var pinyin_dict_withtone = |"|;/g,"");case 6:if(window.pinyinUtil){_context.next=12;break}return _context.next=9,Object(api_rest__WEBPACK_IMPORTED_MODULE_2__.a)(PINYIN_JS_URL,{headers:{accept:"text/js"}});case 9:_yield$get2=_context.sent,_data=_yield$get2.data,eval(_data);case 12:case"end":return _context.stop()}}),_callee)})));return function(){return _ref.apply(this,arguments)}}(),trySpeakNative=function(){var e=Object(C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(t){var n,r,a,c,i,o=arguments;return C_Projects_GIT_chin_scraper_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:"",t){e.next=3;break}return e.abrupt("return");case 3:if(r=n){e.next=8;break}return e.next=7,importPinyinJsIfNeeded();case 7:r=window.pinyinUtil.getPinyin(t);case 8:return a=markToNumberForHanTrainerPro(r),c=HAN_TRAINER_PRO_PREFIX+a+HAN_TRAINER_PRO_POSTFIX,e.prev=10,i=new Audio(c),e.next=14,i.play();case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(10),console.warn("Failed to fetch native speech, will play default speech. Failed on the following:",{pinyin:r,hanzi:t,numberedPinyin:a,audioUrl:c}),speak(t);case 20:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}()},284:function(e,t,n){"use strict";var r=n(1),a=n(4),c=n(0),i=(n(2),n(6)),o=n(8),s=n(16),_=c.forwardRef((function(e,t){var n=e.absolute,o=void 0!==n&&n,s=e.classes,_=e.className,u=e.component,l=void 0===u?"hr":u,d=e.flexItem,b=void 0!==d&&d,p=e.light,j=void 0!==p&&p,h=e.orientation,O=void 0===h?"horizontal":h,f=e.role,v=void 0===f?"hr"!==l?"separator":void 0:f,x=e.variant,m=void 0===x?"fullWidth":x,g=Object(a.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return c.createElement(l,Object(r.a)({className:Object(i.a)(s.root,_,"fullWidth"!==m&&s[m],o&&s.absolute,b&&s.flexItem,j&&s.light,"vertical"===O&&s.vertical),role:v,ref:t},g))}));t.a=Object(o.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(s.b)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(_)},287:function(e,t,n){"use strict";var r=n(0);t.a=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}}}]);