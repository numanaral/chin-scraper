(this["webpackJsonpchin-205"]=this["webpackJsonpchin-205"]||[]).push([[0],{14:function(e,t,n){e.exports=n(23)},23:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(10),c=n.n(o),u=(n(19),n(1)),s=n(2);function i(){var e=Object(u.a)(["\n\twidth: 100%;\n\ttext-align: center;\n"]);return i=function(){return e},e}var l=s.a.div(i()),p=()=>a.a.createElement("div",{style:{position:"absolute",top:"10px",right:"10px",fontSize:"10px"}},a.a.createElement("span",null," Scraped from: "),a.a.createElement("a",{href:"https://www.hanzi5.com/"},"Hanzi 5")),h=n(4),m=n(3),f=n.n(m),b=n(6),d=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFC\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,D=/<td class="hanzi5-article-hanzi-info-td2">(.*)<\/td>/,E=e=>d.test(e),g=e=>escape(e).toLowerCase().replace(/%u/g,""),F=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/"+t,{method:"GET"});case 2:if(n=e.sent,r=n.ok,a=n.status,r){e.next=6;break}throw new Error("HTTP Error ".concat(a));case 6:return e.abrupt("return",n.text());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(f.a.mark((function e(t,n){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F("https://cors-anywhere.herokuapp.com/https://www.hanzi5.com/bishun/"+t+".html");case 3:if(r=e.sent,null!==(a=D.exec(r))){e.next=8;break}return console.log("Scraping failed for the pinyin"),e.abrupt("return");case 8:n(a[1]),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Failed to fetch pinyin"),console.log({err:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(f.a.mark((function e(t,n){var r,a,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://cors-anywhere.herokuapp.com/https://backend-dot-try-puppeteer.appspot.com/run",{headers:{accept:"*/*","accept-language":"en","content-type":"multipart/form-data; boundary=----WebKitFormBoundary8HRvFx6KkZQPoCAm","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site"},referrer:"https://try-puppeteer.appspot.com/",referrerPolicy:"strict-origin-when-cross-origin",body:'------WebKitFormBoundary8HRvFx6KkZQPoCAm\r\nContent-Disposition: form-data; name="file"; filename="blob"\r\nContent-Type: text/javascript\r\n\r\n  const browser = await puppeteer.launch();\n  const page = await browser.newPage();\n\n  await page.goto(\'https://translate.google.com/#zh-CN|en|'.concat(t,"');\n\n  // Extract the results from the page.\n  const result = await page.evaluate(() => {\n     console.log('here')\n    return [...document.querySelectorAll('.tlid-translation')][0].textContent;\n  });\n\nconsole.log(result);\n\n  await browser.close();\r\n------WebKitFormBoundary8HRvFx6KkZQPoCAm--\r\n"),method:"POST",mode:"cors",credentials:"omit"});case 3:if(r=e.sent,a=r.ok,o=r.status,a){e.next=7;break}throw new Error("HTTP Error ".concat(o));case 7:return e.next=9,r.json();case 9:c=e.sent,n(c.log),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("Error translating"),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}();function x(){var e=Object(u.a)(["\n\tposition: absolute;\n\tright: 10px;\n\ttop: 10px;\n\tmargin: auto;\n\tborder-radius: 4px;\n"]);return x=function(){return e},e}function C(){var e=Object(u.a)(["\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 40px;\n\tmargin: auto;\n\tfont-weight: bold;\n\tfont-size: 20px;\n\tborder: 2px dashed;\n"]);return C=function(){return e},e}function y(){var e=Object(u.a)(["\n\tposition: absolute;\n\tleft: 0;\n\tright: 0;\n\tbottom: 10px;\n\tmargin: auto;\n\tfont-weight: bold;\n\tfont-size: 20px;\n\tborder: 2px dashed;\n"]);return y=function(){return e},e}function k(){var e=Object(u.a)(["\n\theight: 300px;\n\tborder: none;\n\t/* transition: transform 0.5s;\n\t:hover {\n\t\ttransform: scale(1.3);\n\t} */\n"]);return k=function(){return e},e}function j(){var e=Object(u.a)(["\n\tposition: relative;\n\tdisplay: inline-block;\n"]);return j=function(){return e},e}var O=s.a.div(j()),S=s.a.iframe(k()),P=s.a.span(y()),z=s.a.span(C()),A=s.a.button(x()),B=({escapedChar:e,originalChar:t})=>{var n=Object(r.useState)(""),o=Object(h.a)(n,2),c=o[0],u=o[1],s=Object(r.useState)(""),i=Object(h.a)(s,2),l=i[0],p=i[1];return Object(r.useEffect)(()=>{v(e,u),w(t,p)},[e,t]),a.a.createElement(O,null,a.a.createElement(A,{onClick:()=>(e=>{var t=window.speechSynthesis,n=new SpeechSynthesisUtterance(e);n.voice=t.getVoices().find(e=>"zh-CN"===e.lang),n.pitch=1,n.rate=.8,t.speak(n)})(t)}," Speak "),a.a.createElement(S,{title:"gif-".concat(e),src:"https://www.hanzi5.com/assets/bishun/animation/"+e+"-bishun.gif"}),c&&a.a.createElement(P,null," ",c," "),l&&a.a.createElement(z,null," ",l," "))},T=({currentCharsWithEscapedPairs:e})=>a.a.createElement(l,null,e.map((e,t)=>a.a.createElement(B,Object.assign({key:t},e))));T.defaultProps={currentCharsWithEscapedPairs:[]};var H=T,K=({onChange:e})=>a.a.createElement("form",{onSubmit:e=>e.preventDefault()},a.a.createElement("label",{htmlFor:"chinese-character"},"Search for Chinese Character(s)"),a.a.createElement("br",null),a.a.createElement("input",{type:"search",placeholder:"Eg: \u4f60\u597d",name:"chinese-character",onChange:e}),a.a.createElement("br",null)),W=()=>{var e=Object(r.useState)(""),t=Object(h.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)([]),u=Object(h.a)(c,2),s=u[0],i=u[1];return Object(r.useEffect)(()=>{var e=n.split("").filter(E).map(e=>({escapedChar:g(e),originalChar:e}));i(e)},[n]),a.a.createElement(a.a.Fragment,null,a.a.createElement(K,{onChange:e=>{var t=e.target.value;E(t)&&o(t)}}),a.a.createElement("br",null),a.a.createElement(H,{currentCharsWithEscapedPairs:s}))},Q=()=>a.a.createElement(l,null,a.a.createElement(p,null),a.a.createElement(W,null)),R=document.getElementById("root");c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Q,null)),R)}},[[14,1,2]]]);
//# sourceMappingURL=main.2e0ac6d2.chunk.js.map